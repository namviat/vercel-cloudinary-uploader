<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Qloud — Upload</title>

<!-- Tailwind -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<style>
/* ---------------- BASE ---------------- */
body {
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  background:#f5f7fb;
  color:#0f172a;
}

/* ---------------- SIDEBAR (FROM YOUR EXAMPLE, ADAPTED) ---------------- */
.sidebar {
  position: fixed;
  left: 16px;
  top: 16px;
  bottom: 16px;
  width: 270px;
  background:#ffffff;
  border-radius:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.08);
  transition:all .45s cubic-bezier(.175,.885,.32,1.1);
  overflow:hidden;
  z-index:50;
}
.sidebar.collapsed { width:88px; }

.sidebar-header {
  display:flex;
  align-items:center;
  gap:14px;
  padding:22px;
}

.avatar {
  width:44px;
  height:44px;
  border-radius:12px;
  background:#e5e7eb;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
}

.sidebar.collapsed .label {
  opacity:0;
  transform:translateX(-10px);
  pointer-events:none;
}

.label {
  transition:all .3s ease;
  white-space:nowrap;
}

.nav {
  padding:0 12px;
  margin-top:8px;
}

.nav-item {
  position:relative;
}

.nav-btn {
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px;
  border-radius:12px;
  color:#475569;
  cursor:pointer;
  transition:all .25s ease;
}
.nav-btn:hover {
  background:#f1f5f9;
  color:#0f172a;
}

.tooltip {
  position:absolute;
  left:100%;
  top:50%;
  transform:translate(12px,-50%);
  background:#0f172a;
  color:#fff;
  padding:6px 10px;
  font-size:12px;
  border-radius:6px;
  opacity:0;
  pointer-events:none;
  transition:.25s ease;
}
.sidebar.collapsed .nav-item:hover .tooltip {
  opacity:1;
}

/* ---------------- LAYOUT ---------------- */
.app {
  display:grid;
  grid-template-columns: 1fr;
  margin-left:320px;
  margin-right:24px;
  padding-top:24px;
}

/* ---------------- MAIN FILE AREA ---------------- */
.main {
  max-width:1100px;
}

/* ---------------- RIGHT FEATURE AREA ---------------- */
.feature-area {
  position:fixed;
  right:24px;
  top:24px;
  bottom:24px;
  width:360px;
  display:none;
}

/* visible only when feature active */
.feature-area.active {
  display:block;
}

/* ---------------- UPLOAD BOX ---------------- */
.upload-box {
  border:2px dashed #c7d2fe;
  background:#ffffff;
  border-radius:18px;
  padding:48px;
  text-align:center;
  cursor:pointer;
  transition:.25s ease;
}
.upload-box:hover {
  background:#f8fafc;
}

/* ---------------- FILE CARD ---------------- */
.file-card {
  background:#ffffff;
  border-radius:14px;
  padding:16px;
  position:relative;
  box-shadow:0 4px 12px rgba(0,0,0,0.05);
}
.file-actions {
  position:absolute;
  top:8px;
  right:8px;
  display:flex;
  gap:6px;
  opacity:0;
  transition:.2s;
}
.file-card:hover .file-actions { opacity:1; }

/* ---------------- STORAGE BAR ---------------- */
.storage-wrap {
  margin:16px;
  padding:14px;
  background:#f8fafc;
  border-radius:12px;
}
.storage-bar {
  height:6px;
  background:#e5e7eb;
  border-radius:999px;
  overflow:hidden;
}
.storage-fill {
  height:100%;
  background:#6366f1;
}
</style>
</head>

<body>

<!-- ================= SIDEBAR ================= -->
<aside class="sidebar collapsed" id="sidebar">

  <!-- HEADER -->
  <div class="sidebar-header">
    <div class="avatar">U</div>
    <div class="label">
      <div class="font-semibold" id="profileName">Profile</div>
      <div class="text-xs text-slate-500" id="profileToken"></div>
    </div>
  </div>

  <!-- NAV -->
  <div class="nav">

    <!-- 3 DOT MENU -->
    <div class="nav-item">
      <div class="nav-btn" id="menuToggle">
        <i data-lucide="more-vertical"></i>
        <span class="label">Features</span>
      </div>
      <span class="tooltip">Features</span>
    </div>

    <!-- FEATURE LIST -->
    <div id="featureList" class="mt-2 hidden">
      <div class="nav-item">
        <div class="nav-btn feature-btn" data-feature="search">
          <i data-lucide="search"></i><span class="label">Token Search</span>
        </div>
      </div>
      <div class="nav-item">
        <div class="nav-btn feature-btn" data-feature="merge">
          <i data-lucide="shuffle"></i><span class="label">Token Merge</span>
        </div>
      </div>
      <div class="nav-item">
        <div class="nav-btn feature-btn" data-feature="delete">
          <i data-lucide="trash-2"></i><span class="label">Delete Token</span>
        </div>
      </div>
    </div>

  </div>

  <!-- STORAGE INDICATOR -->
  <div class="storage-wrap label">
    <div class="text-xs text-slate-500 mb-1">Overall Storage</div>
    <div class="storage-bar">
      <div id="storageFill" class="storage-fill" style="width:0%"></div>
    </div>
    <div class="text-xs text-slate-500 mt-1" id="storageText"></div>
  </div>

  <!-- LOGOUT -->
  <div class="nav mt-auto">
    <div class="nav-item">
      <div class="nav-btn" id="logoutBtn">
        <i data-lucide="log-out"></i><span class="label">Logout</span>
      </div>
    </div>
  </div>

</aside>

<!-- ================= APP ================= -->
<div class="app">

  <!-- MAIN FILE OPERATIONS (UNCHANGED LOGIC) -->
  <div class="main">

    <div id="msg" class="hidden mb-4"></div>

    <div id="uploadBox" class="upload-box">
      <input id="fileInput" type="file" multiple hidden/>
      <div class="text-4xl mb-2">☁️</div>
      <div class="font-semibold">Click or drag & drop files here</div>
      <div class="text-sm text-slate-500 mt-1">Files are private to this token</div>
    </div>

    <div id="progressWrap" class="hidden mt-4">
      <div class="w-full bg-slate-200 h-2 rounded">
        <div id="progressFill" class="h-2 bg-indigo-500 rounded"></div>
      </div>
      <div id="statusText" class="text-xs text-slate-500 mt-1"></div>
    </div>

    <div class="mt-6">
      <h2 class="font-semibold mb-3">Files <span id="count" class="text-sm text-slate-500"></span></h2>
      <div id="fileGrid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"></div>
    </div>

  </div>
</div>

<!-- ================= RIGHT FEATURE AREA ================= -->
<div class="feature-area" id="featureArea"></div>

<!-- ================= SCRIPT ================= -->
<script>
/* -------- SIDEBAR HOVER (FROM YOUR CODE) -------- */
const sidebar = document.getElementById("sidebar");
sidebar.addEventListener("mouseenter",()=>window.innerWidth>=1024&&sidebar.classList.remove("collapsed"));
sidebar.addEventListener("mouseleave",()=>window.innerWidth>=1024&&sidebar.classList.add("collapsed"));

/* -------- FEATURE MENU TOGGLE -------- */
document.getElementById("menuToggle").onclick=()=>{
  document.getElementById("featureList").classList.toggle("hidden");
};

/* -------- FEATURE OPEN / CLOSE (NO LOGIC CHANGE) -------- */
const featureArea=document.getElementById("featureArea");
document.querySelectorAll(".feature-btn").forEach(btn=>{
  btn.onclick=()=>{
    const f=btn.dataset.feature;
    featureArea.innerHTML=document.getElementById(f+"Feature")?.innerHTML||"";
    featureArea.classList.toggle("active");
  };
});

/* -------- LOGOUT -------- */
logoutBtn.onclick=()=>location.href="index.html";

/* -------- ICONS -------- */
lucide.createIcons();
</script>

<!-- ================= EXISTING FEATURE DOMS (UNCHANGED) ================= -->
<!--
Place your existing:
- token search UI
- merge UI
- delete token UI
HERE with ids:
searchFeature
mergeFeature
deleteFeature
(no changes inside)
-->

</body>
</html>
